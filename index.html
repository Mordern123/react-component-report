<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>reveal.js</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/league.css" />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section
          data-background="https://d2ms8rpfqc4h24.cloudfront.net/React_18_New_features_a9ebb05f34.jpg"
        >
          <h2
            style="
              background-color: rgba(0, 0, 0, 0.92);
              color: #fff;
              padding: 20px;
            "
          >
            React學習心得
          </h2>
          <p
            style="
              background-color: rgba(0, 0, 0, 0.92);
              color: #fff;
              padding: 20px;
            "
          >
            Eric.Yang
          </p>
        </section>

        <section>
          <h3>開發環境建置</h3>
          <p>若是要寫一個 React 的 SPA 網頁，我們會仰賴各種第三方 library 來處理各種基本功能</p>
          <ul>
            <li>Babel：編譯 ES6+ 讓瀏覽器看懂</li>
            <li>Webpack：打包資源與程式碼</li>
            <li>eslint：檢查程式碼</li>
          </ul>
        </section>

        <section>
          <h3>開發環境建置</h3>
          <p>
            但是每個套件背後都是一個全新的世界，如果每個都要自己設定(尤其是 Webpack)，那專案可能要延後很久才開始，同時，讓新手失去耐心的，往往不是寫code，而是環境建置
            ，現在各種 React 專案環境的需求大同小異，要能編譯，要能打包，要能檢查 lint，只有商業邏輯的差異比較大，那既然大家都差不多，怎麼沒有一個「模板」可以直接一鍵生成呢？
          </p>
          <p class="fragment">Create-React-App</p>
        </section>

        <section>
          <p>Create-React-App</p>
          <p>是一個由 Facebook 開發維護的 toolchain，React 官網推薦
            ，用來快速建立一個 pre-configured React 專案。前端的開發環境、打包設定，Babel、Webpack、Jest，都已經處理好了，你只要認真開發程式就可以了。</p>
        </section>

        <section>
          <h3>開始接觸React，會遇到的選擇</h3>
          <div
            style="display: flex; justify-content: space-around; color: #70d3e0"
          >
            <p class="fragment fade-up">Class</p>
            <p class="fragment fade-up">Functional</p>
          </div>
          <img
            src="https://language.chinadaily.com.cn/images/attachement/jpg/site1/20180418/64006a47a40a1c40db9701.jpg"
            alt=""
            style="width: 50%"
          />
        </section>

        <section>
          <h3 style="font-weight: bold">React的歷史</h3>
          <p class="fragment highlight-blue">
            一開始，class的寫法是React的主流
          </p>
          <p class="fragment highlight-blue">舊版官方文件、歷史較久的專案</p>
          <p class="fragment highlight-blue">React釋出v16.8</p>
          <p class="fragment highlight-blue">神奇鉤子(Hooks)</p>
          <p class="fragment highlight-blue">
            讓React使用Functional也可以管理state
          </p>
          <p class="fragment highlight-blue">
            新版官方文件，官方推薦使用functional
          </p>
        </section>

        <section>
          <h3 style="font-weight: bold">為什麼? Class本來就能做到呀!!!</h3>
          <ul>
            <li class="fragment">編譯速度較快</li>
            <li class="fragment">相依性較低</li>
            <li class="fragment">可測試性及重用性高</li>
            <li class="fragment">較為簡單、易於理解、降低開發成本</li>
            <li class="fragment">更多的社群資源</li>
          </ul>
        </section>

        <section>
          <h3 style="font-weight: bold">Class表示：我也不是一無是處!</h3>
          <ul>
            <li class="fragment">可能具有好的可讀性(明確的生命週期)</li>
            <li class="fragment">可以支援舊版React</li>
            <li class="fragment">更好的 IDE 支持</li>
          </ul>
        </section>

        <section>
          <h3>渲染JSX方法</h3>
          <p>Class component:</p>
          <pre>
            <code data-trim data-noescape data-line-numbers="2-7">
              <script type="text/template">
                import React, { Component } from "react";

                class ClassComponent extends Component { 
                  render() { 
                    return <div>ClassComponent</div>;
                  }
                }
              </script>
            </code>
          </pre>
          <p>Functional component:</p>
          <pre>
            <code data-trim data-noescape data-line-numbers="3-5">
              <script type="text/template">
                import React from "react";

                const FunctionalComponent = () => {
                  return <div>FunctionalComponent</div>;
                };
              </script>
            </code>
          </pre>
        </section>

        <section>
          <h3>State</h3>
          <p>Class component:</p>
          <pre>
            <code data-trim data-noescape data-line-numbers="4, 8, 12">
              <script type="text/template">
                class Hello extends React.Component {  
                  constructor(props) {
                    super(props);       
                    this.state = { food: "apple", };
                  }    
                  render() {       
                    return ( 
                      <h1> Hello, {this.state.food} </h1> 
                    );   
                  }
                }
                this.setState({food: 'banana'});
              </script>
            </code>
          </pre>
        </section>

        <section>
          <h3>State</h3>
          <p>Functional component:</p>
          <pre>
            <code data-trim data-noescape data-line-numbers="4, 8">
              <script type="text/template">
                import React, { useState } from 'react';

                const Hello = () => { 
                  const [count, setCount] = useState(0);
                  return (        
                    <div>
                      <p>clicked {count} times</p> 
                      <button onClick={() => setCount(count + 1)}> Hook</button>
                    </div>  
                  );
                }
              </script>
            </code>
          </pre>
        </section>

        <section>
          <h3>Props</h3>
          <p>Class component:</p>
          <pre>
            <code data-trim data-noescape data-line-numbers="4, 8">
              <script type="text/template">
                export default class TestButton extends Component {

                  constructor(props) {
                    super(props);
                    this.state = {
                      text: hello
                    };
                  }
                  
                  onClick = () => {
                    const {test} = this.props;
                    this.setState({text: "hello react"});
                  };
                }
              </script>
            </code>
          </pre>
        </section>

        <section>
          <h3>Props</h3>
          <p>Functional component:</p>
          <pre>
            <code data-trim data-noescape data-line-numbers="4, 8">
              <script type="text/template">
                const Score = ({ score, maxScore }) => {
                  return (
                    <div>
                        <div>{`獲得蘋果： ${score}`}</div>
                        <div>{`最高紀錄： ${maxScore}`}</div>
                    </div>
                  )
                }
                export default Score;
              </script>
            </code>
          </pre>
        </section>

        <section>
          <h3>Pure Component</h3>
          <p>在Class Component中</p>
          <p>繼承的Component通過shouldComponentUpdate來判斷是否需要re-render。</p>
          <p>如果return true，component將會重新渲染。</p>
          <p>默認情況皆是true!!!效能不佳</p>
          <p>Pure Component實現在shouldComponentUpdate時，透過淺層比較來判斷是否需要重新渲染</p>
          <p>有效減少無意義的re-render</p>
        </section>

        <section>
          <h3>Pure Component</h3>
          <p>在Functional Component中</p>
          <p>因沒有辦法extends PureComponent，會透過memo來達到一樣的效果。</p>
        </section>

        <section>
          <h4 style="font-weight: bold;">生命週期</h4>
          <p>Functional component:</p>
          <p style="font-size: 22px; color: beige;">沒有生命週期，由Hooks所代替</p>
          <p>Class component:</p>
          <img src="https://i.imgur.com/Ib5gpFY.jpg">
        </section>

        <section>
          <img
            src="https://miro.medium.com/max/1400/1*Ph-iXMJz7gYwvYDdPyXxxA.png"
            alt=""
          />
        </section>
        
        <section>
          <h3>Class to Functional</h3>
          <pre>
            <code data-trim data-noescape data-line-numbers="1|2|3-9|12|13-14|15-22|27|28|28,38|29-31|33-40">
              <script type="text/template">
                import React, {Component} from "react";
                export default class EricYC extends Component {
                  constructor(props) {
                    super(props);
                    this.state = {
                      name: "",
                      age: 25,
                      height: 176,
                    };
                  }

                  render() {
                    const { name, age, height } = this.state;
                    const { isMale } = this.props;
                    return (
                      <div>
                        <h3>My name is { name }</h3>
                        <p>I am { age } years old</p>
                        <p>I am { height } cm</p>
                        <p>I am a { isMale? "Male": "Female" }</p>
                      </div>  
                    );
                  }
                }

                // to Functional
                import {useState} from "react";
                const EricYC = ({isMale}) => {
                  const [name, setName] = useState("");
                  const [age, setAge] = useState(25);
                  const [height, setHeight] = useState(176);

                  return (
                    <div>
                      <h3>My name is { name }</h3>
                      <p>I am { age } years old</p>
                      <p>I am { height } cm</p>
                      <p>I am a { isMale? "Male": "Female" }</p>
                    </div>  
                  )
                }
              </script>
            </code>
          </pre>
        </section>

        <section>
          <img src="./compare.jpg" alt="">
        </section>

      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });
    </script>
  </body>
</html>
