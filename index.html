<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Eric Report</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/league.css" />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" />
    <style>
      ::-webkit-scrollbar-track {
        -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
        background-color: #70d3e0;
      }

      ::-webkit-scrollbar {
        width: 6px;
        height: 10px;
        background-color: black;
      }

      ::-webkit-scrollbar-thumb {
        background-color: #2ebbce;
      }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section
          data-background="https://d2ms8rpfqc4h24.cloudfront.net/React_18_New_features_a9ebb05f34.jpg"
        >
          <h2
            style="
              background-color: rgba(0, 0, 0, 0.92);
              color: #fff;
              padding: 20px;
            "
          >
            React學習心得
          </h2>
          <p
            style="
              background-color: rgba(0, 0, 0, 0.92);
              color: #fff;
              padding: 20px;
            "
          >
            Eric.Yang
          </p>
        </section>

        <section>
          <img
            src="https://i0.wp.com/tech.shaadi.com/wp-content/uploads/2022/08/React_babel-1.jpg?fit=1920%2C799&ssl=1"
            alt=""
            style="
              width: 50%;
              position: absolute;
              top: -150px;
              left: 230px;
              z-index: -1;
              opacity: 70%;
            "
          />
          <h3
            style="
              background-color: rgba(0, 0, 0, 0.5);
              color: #fff;
              padding: 20px;
            "
          >
            開發環境建置
          </h3>
          <p style="text-align: left">
            若寫一個 React 的 SPA 網頁，依賴各種第三方 library
            來處理各種基本功能。
          </p>
          <ul>
            <li style="color: #97e5f0">
              Babel： <span style="color: #caeef3">編譯 ES6+ 讓瀏覽器看懂</span>
            </li>
            <li style="color: #97e5f0">
              Webpack：<span style="color: #caeef3">打包資源與程式碼</span>
            </li>
            <li style="color: #97e5f0">
              eslint：<span style="color: #caeef3">檢查程式碼</span>
            </li>
          </ul>
          <!-- <div class="fragment fade-in-then-out" style="position: absolute; top: 30px; background-color: rgba(0, 0, 0, 0.88); padding: 0 20px;box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;">
            <p style="color: #97e5f0; font-weight: bold;">Babel: </p>
            <p style="text-align: start; font-size: 32px;">Babel 是一個 JavaScript 編譯器，用於將 ES6+ 語法轉換為向後兼容的版本。
              讓使用者可以使用最新版本的 JavaScript，同時保持瀏覽器的相容性。
              像是將<span style="font-weight: bold;  color: #a8e6ee;">箭頭函式、解構子等，轉換為瀏覽器可以理解的 ES5 語法</span>，實現編譯和部署。</p>
          </div>
          <div class="fragment fade-in-then-out" style="position: absolute; top: 30px; background-color: rgba(0, 0, 0, 0.88); padding: 0 20px;box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;">
            <p style="color: #97e5f0; font-weight: bold;">Webpack: </p>
            <p style="text-align: start; font-size: 32px;">Webpack 可以將前端應用程式中的所有資源（例如 JavaScript、CSS、圖片等）作為模塊進行處理，
              然後將它們打包成一個或多個 bundle，這些 bundle 可以在網頁上載入。
              <span style="font-weight: bold;  color: #a8e6ee;">就是幫我們編譯我們的 Preprocess 成瀏覽器看得懂的內容然後打包成一包的完成檔案然後拿去 server 上傳上去</span>。</p>
          </div>
          <div class="fragment fade-in-then-out" style="position: absolute; top: 30px; background-color: rgba(0, 0, 0, 0.88); padding: 0 20px;box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;">
            <p style="color: #97e5f0; font-weight: bold;">eslint: </p>
            <p style="text-align: start; font-size: 32px;">ESLint 是一個 JavaScript 的 linting 工具，它可以靜態分析 JavaScript 代碼，並檢查其中的錯誤同時強制實施程式碼風格，
              以<span style="font-weight: bold;  color: #a8e6ee;">確保代碼的一致性和可讀性</span>，如：語法或是 coding style。</p>
          </div> -->
        </section>

        <section>
          <h3>開發環境建置</h3>
          <p style="font-size: 30px; text-align: start;">
            ● 每個套件背後都是一個全新的世界(尤其設定 webpack 很複雜)，但現在各種 React
            <span style="font-weight: bold;  color: #a8e6ee;">專案環境的需求大同小異</span>，要能編譯，要能打包，要能檢查
            lint，只有商業邏輯的差異比較大。
          </p>
          <p style="font-size: 30px; text-align: start;">● 那既然大家都差不多，怎麼沒有一個「模板」可以直接一鍵生成呢？</p>
          <p
            class="fragment"
            style="
              position: absolute;
              right: 250px;
              top: 70px;
              background-color: rgba(0, 0, 0, 0.9);
              color: #fff;
              padding: 20px;
              color: #97e5f0;
            "
          >
            Create-React-App (CRA)
          </p>
        </section>

        <section>
          <h3>Create-React-App (CRA)</h3>
          <p style="font-size: 30px; text-align: start;">
            是一個由 Facebook 開發維護的 toolchain，React 官網推薦
            ，用來快速建立一個 pre-configured React
            專案。開發環境、Babel、Webpack、eslint、Jest，都已經處理好了，只需要認真開發程式就可以了。
          </p>
          <pre><code data-trim data-noescape>
            npx create-react-app Project_Name
              </code></pre>
        </section>

        <section>
          <p>CRA 專案結構</p>
          <p style="font-size: 30px; text-align: start;">
            ● 看不到 webpack.config 檔案!它放在 node_modules/react-scripts 底下。
          </p>
          <pre style="padding: 5px 10px; font-size: 22px;">
            <code data-trim data-noescape data-line-numbers="2-7">
              <script type="text/template">
                npm install react-app-rewired
              </script>
            </code>
          </pre>
          <p class="fragment" style="position: absolute; font-size: 26px; background-color: #70d3e0; padding: 10px; border-radius: 10px;">不用手動調整 react-scripts 套件就可以調整 Webpack 設定，針對CRA的設定做改寫的套件</p>
          
          <img src="https://i.imgur.com/995yHA2.png" alt="">
        </section>

        <section>
          <h3>開始接觸React，會遇到的選擇</h3>
          <div
            style="display: flex; justify-content: space-around; color: #70d3e0"
          >
            <p class="fragment fade-up">Class</p>
            <p class="fragment fade-up">Functional</p>
          </div>
          <img
            src="https://language.chinadaily.com.cn/images/attachement/jpg/site1/20180418/64006a47a40a1c40db9701.jpg"
            alt=""
            style="width: 50%"
          />
        </section>

        <section>
          <h3 style="margin: 0">React的歷史</h3>
          <div style="display: flex; flex-direction: column">
            <div style="display: flex; align-items: center">
              <p
                style="
                  border-radius: 50%;
                  background-color: #70d3e0;
                  width: 60px;
                  height: 60px;
                  text-align: center;
                  font-size: 22px;
                  align-items: center;
                  line-height: 60px;
                "
              >
                2013
              </p>
            </div>
            <div style="padding: 0 30px">
              <div style="border-left: 2px solid #70d3e0">
                <p
                  style="
                    font-size: 28px;
                    padding: 0;
                    margin: 0;
                    margin-bottom: 10px;
                    color: #caeef3;
                  "
                >
                  React 的出現
                </p>
                <p style="font-size: 22px; padding: 0; margin: 0">
                  FB 不滿意市場上的MVC框架，自己做一套給IG。
                  最初的靈感來自 XHP。</br> 一開始，class
                  component 的寫法是 React
                  的主流(舊版官方文件、歷史較久的專案)。
                </p>
              </div>
            </div>
            <div class="fragment" style="display: flex; align-items: center">
              <p
                style="
                  border-radius: 50%;
                  background-color: #70d3e0;
                  width: 60px;
                  height: 60px;
                  text-align: center;
                  font-size: 22px;
                  align-items: center;
                  line-height: 60px;
                "
              >
                2019
              </p>
            </div>
            <div class="fragment" style="padding: 0 30px">
              <div style="border-left: 2px solid #70d3e0">
                <p
                  style="
                    font-size: 28px;
                    padding: 0;
                    margin: 0;
                    margin-bottom: 10px;
                    color: #caeef3;
                  "
                >
                  React 16.8 (Hooks)
                </p>
                <p style="font-size: 22px; padding: 0; margin: 0">
                  神奇鉤子的出現，讓React使用functional component也可以管理state
                </p>
              </div>
            </div>
            <div class="fragment" style="display: flex; align-items: center">
              <p
                style="
                  border-radius: 50%;
                  background-color: #70d3e0;
                  width: 60px;
                  height: 60px;
                  text-align: center;
                  font-size: 22px;
                  align-items: center;
                  line-height: 60px;
                "
              >
                now
              </p>
            </div>
            <div class="fragment" style="padding: 0 30px">
              <div style="border-left: 2px solid #70d3e0">
                <p
                  style="
                    font-size: 28px;
                    padding: 0;
                    margin: 0;
                    margin-bottom: 10px;
                    color: #caeef3;
                  "
                >
                  React 更新官方文件
                </p>
                <p style="font-size: 22px; padding: 0; margin: 0">
                  改為使用Functional Component作為主要介紹的方法。
                </p>
              </div>
            </div>
          </div>
        </section>

        <section>
          <h3 style="font-weight: bold">為什麼? Class 本來就能做到呀!!!</h3>
          <ul>
            <li class="fragment" style="margin-bottom: 5px; color: #dfe2e2;">編譯速度較快</li>
            <li class="fragment" style="margin-bottom: 5px; color: #dfe2e2;">相依性較低</li>
            <div class="fragment fade-in-then-out" style="position: absolute; background-color: rgba(112, 211, 224, 0.7); padding: 10px; font-size: 22px; border-radius: 10px;">
              ● Functional Component 被設計為無狀態，需要管理狀態則掛勾於 Hooks 上，因此也無需使用到 this。</br>
              ● Class Component 可以擁有自己的狀態，並起依賴於其他元件，設計上更為複雜，需要用到 this。
            </div>
            <li class="fragment" style="margin-bottom: 5px; color: #dfe2e2;">可測試性及重用性高</li>
            <div class="fragment fade-in-then-out" style="position: absolute; background-color: rgba(112, 211, 224, 0.7); padding: 10px; font-size: 22px; border-radius: 10px;">
              ● 除了上述提到沒有自己內部狀態外，也沒有自己的生命週期，測試更加簡易。</br>
              ● 同時 Functional Component 常常被認為是 pure function，給相同 props，始終會回傳相同結果。這使得他更容易重用。
            </div>
            <li class="fragment" style="margin-bottom: 5px; color: #dfe2e2;">較為簡單、易於理解、降低開發成本</li>
            <li class="fragment" style="color: #dfe2e2;">更多的社群資源</li>
          </ul>
        </section>

        <section>
          <h3 style="font-weight: bold">Class 表示：我也不是一無是處!</h3>
          <ul>
            <li class="fragment" style="margin-bottom: 10px; color: #dfe2e2;">可能具有好的可讀性</li>
            <div class="fragment fade-in-then-out" style="position: absolute; background-color: rgba(112, 211, 224, 0.7); padding: 10px; font-size: 22px; border-radius: 10px;">
              ● 明確的生命週期。
            </div>
            <li class="fragment" style="margin-bottom: 10px; color: #dfe2e2;">可以支援舊版 React</li>
            <div class="fragment fade-in-then-out" style="position: absolute; background-color: rgba(112, 211, 224, 0.7); padding: 10px; font-size: 22px; border-radius: 10px;">
              ● 不需要使用到新版的 Hooks API。
            </div>
            <li class="fragment" style="margin-bottom: 10px; color: #dfe2e2;">更好的 IDE 支持</li>
            <div class="fragment fade-in-then-out" style="position: absolute; background-color: rgba(112, 211, 224, 0.7); padding: 10px; font-size: 22px; border-radius: 10px;">
              ● 因為是由 JS ES6 所撰寫，在 IDE 上享有更好的提示，但現在 IDE 也都夠強了，這項優勢正在慢慢消失。
            </div>
          </ul>
        </section>

        <section>
          <h3>渲染 JSX 方法</h3>
          <p>Class component:</p>
          <pre>
            <code data-trim data-noescape data-line-numbers="2-7">
              <script type="text/template">
                import React from "react";

                class ClassComponent extends React.Component { 
                  render() { 
                    return <div>ClassComponent</div>;
                  }
                }
              </script>
            </code>
          </pre>
          <p>Functional component:</p>
          <pre>
            <code data-trim data-noescape data-line-numbers="3-5">
              <script type="text/template">
                import React from "react";

                const FunctionalComponent = () => {
                  return <div>FunctionalComponent</div>;
                };
              </script>
            </code>
          </pre>
        </section>

        <section>
          <h3>State</h3>
          <p>Class component:</p>
          <pre>
            <code data-trim data-noescape data-line-numbers="4-6,10|16">
              <script type="text/template">
                class Hello extends Component {
                  constructor(props) {
                    super(props);
                    this.state = {
                      food: 'apple'
                    };
                  }
                
                  handleFoodChange = () => {
                    this.setState({ food: 'banana' });
                  };
                
                  render() {
                    return (
                      <div>
                        <h1>Hello, {this.state.food}</h1>
                        <button onClick={this.handleFoodChange}>Change</button>
                      </div>
                    );
                  }
                }
              </script>
            </code>
          </pre>
        </section>

        <section>
          <h3>State</h3>
          <p>Functional component:</p>
          <pre>
            <code data-trim data-noescape data-line-numbers="2, 5, 10">
              <script type="text/template">
                const Hello = () => {
                  const [food, setFood] = useState("apple");
                
                  const handleFoodChange = () => {
                    setFood('banana');
                  };
                
                  return (
                    <div>
                      <h1>Hello, {food}</h1>
                      <button onClick={handleFoodChange}>Change</button>
                    </div>
                  );
                }
              </script>
            </code>
          </pre>
        </section>

        <section>
          <h3>Props</h3>
          <p>Class component:</p>
          <pre>
            <code data-trim data-noescape data-line-numbers="6">
              <script type="text/template">
                class Score extends Component {
                  constructor(props) {
                    super(props);
                  }
                  render() {
                    const { score, maxScore } = this.props;
                    return (
                      <div>
                        <div>{`獲得蘋果： ${score}`}</div>
                        <div>{`最高紀錄： ${maxScore}`}</div>
                      </div>
                    );
                  }
                }
                export default Score;
              </script>
            </code>
          </pre>
        </section>

        <section>
          <h3>Props</h3>
          <p>Functional component:</p>
          <pre>
            <code data-trim data-noescape data-line-numbers="1,4-5">
              <script type="text/template">
                const Score = ({ score, maxScore }) => {
                  return (
                    <div>
                        <div>{`獲得蘋果： ${score}`}</div>
                        <div>{`最高紀錄： ${maxScore}`}</div>
                    </div>
                  )
                }
                export default Score;
              </script>
            </code>
          </pre>
        </section>

        <section>
          <h3>Pure Component</h3>
          <p>在Class Component中</p>
          <p style="text-align: start; font-size: 28px;">
            ● 繼承的 Component 通過 <span style="font-weight: bold;  color: #97e5f0;">shouldComponentUpdate</span> 來判斷是否需要 re-render。
          </p>
          <p style="text-align: start; font-size: 28px;">● 默認情況皆是 true，component 將會重新渲染。</p>
          <div class="fragment fade-in-then-out" style="position: absolute; background-color: rgb(235, 68, 68); padding: 10px; font-size: 22px; border-radius: 10px;">
            ● 效能不佳。
          </div>
          <p class="fragment" style="text-align: start; font-size: 28px;">
            ● Pure Component 實現在 shouldComponentUpdate 時，透過<span style="font-weight: bold;  color: #97e5f0;">淺層比較</span>來判斷是否需要重新渲染。
          </p>
          <p class="fragment" style="text-align: start; font-size: 28px;">● 有效減少無意義的 re-render，效能提升。</p>
          <pre class="fragment">
            <code data-trim data-noescape data-line-numbers="1">
              <script type="text/template">
                export default class CustomLoader extends PureComponent {
                  // ...
                };
              </script>
            </code>
          </pre>
        </section>

        <section>
          <h3>Pure Component</h3>
          <p>在 Functional Component中</p>
          <p style="text-align: start; font-size: 28px;">因沒有 extends PureComponent，會透過 <span style="font-weight: bold;  color: #97e5f0;">memo</span> 來達到一樣的效果。</p>
          <div class="fragment fade-in-then-out" style="position: absolute; background-color: rgba(112, 211, 224, 0.7); padding: 10px 20px; font-size: 22px; border-radius: 10px; text-align: start;">
            ● React.memo 是 React 的 <span style="font-weight: bold;  color: #eec882;">HOC</span>，它可以將函數元件包裝起來，並起回傳一個新的元件。</br>
            ● 這個新元件就會在接收到 props 時，去比較新舊 props 是否有更新，如果沒更新則不會做 re-render 的行為。</br>
            ● 避免不必要的渲染，提高性能。
          </div>
          <pre class="fragment">
            <code data-trim data-noescape data-line-numbers="1">
              <script type="text/template">
                const MyComponent = React.memo((props) => {
                  // ...
                });
              </script>
            </code>
          </pre>
        </section>

        <section>
          <h4 style="font-weight: bold">生命週期</h4>
          <p>Functional component:</p>
          <p style="font-size: 22px; color: beige">
            沒有生命週期，由 Hooks 所代替
          </p>
          <p>Class component:</p>
          <img src="https://i.imgur.com/Ib5gpFY.jpg" />
        </section>

        <section>
          <section>
            <img
              src="https://miro.medium.com/max/1400/1*Ph-iXMJz7gYwvYDdPyXxxA.png"
              alt=""
            />
          </section>

          <!-- <section>
           <p>常用Hooks</p>
           <ul>
            <li style="color: #97e5f0; text-align: start;">
              useState
            </li>
            <li style="color: #97e5f0; text-align: start;">
              useEffect
            </li>
            <li style="color: #97e5f0; text-align: start;">
              useCallback
            </li>
            <li style="color: #97e5f0; text-align: start;">
              useContext
            </li>
            <li style="color: #97e5f0; text-align: start;">
              useRef
            </li>
            <li style="color: #97e5f0; text-align: start;">
              useReducer
            </li>
          </ul>
          </section> -->
        </section>

        <section>
          <h3>Class to Functional</h3>
          <pre>
            <code data-trim data-noescape data-line-numbers="1|2|3-6|8-10|12-16|18-20|26-33|22-24|37|38|39|41-44|46-48|50-55">
              <script type="text/template">
                import React, {Component} from "react";
                export default class EricYC extends Component {
                  constructor(props) {
                    super(props);
                    this.state = { count: 0 };
                  }
                
                  componentDidMount() {
                    console.log('Component has mounted');
                  }
                
                  componentDidUpdate(prevProps, prevState) {
                    if (this.state.count !== prevState.count) {
                      console.log('Count has changed');
                    }
                  }
                
                  componentWillUnmount() {
                    console.log('Component will unmount');
                  }
                
                  handleIncrement() {
                    this.setState({ count: this.state.count + 1 });
                  }
                
                  render() {
                    return (
                      <div>
                        <h1>Count: {this.state.count}</h1>
                        <button onClick={() => this.handleIncrement()}>Increment</button>
                      </div>
                    );
                  }
                }

                // to Functional
                import {useState, useEffect} from "react";
                const EricYC = ({isMale}) => {
                  const [count, setCount] = useState(0);

                  useEffect(() => {
                    console.log('Component has mounted');
                    return () => console.log('Component will unmount');
                  }, []);
                
                  useEffect(() => {
                    console.log('Count has changed');
                  }, [count]);

                  return (
                    <div>
                      <h1>Count: {count}</h1>
                      <button onClick={() => setCount(count + 1)}>Increment</button>
                    </div>
                  )
                }
              </script>
            </code>
          </pre>
        </section>

        <section data-background="./compare.jpg"></section>

        <!-- <section>
          <h3>撰寫上遇到的問題</h3>
          <img src="./no_constructor.jpg" alt="" />
          <p>沒有建構子竟然也可以拿到 props!</p>
        </section>

        <section>
          <section>
            <h3>為什麼要寫 super(props)?</h3>
            <p>在 JavaScript 中，super 會參照父類別的建構子。</p>
            <p>並且在呼叫父類別的建構子後，才能在建構子中使用 this</p>
            <pre>
              <code data-trim data-noescape >
                class TestComponent extends React.Component {
                  constructor(props) {
                    // 🔴 這裡還不能用this
                    super(props);
                    // ✅ 這裡可以用了!!!
                    this.state = { isOpen: true };
                  }
                }
              </code>
            </pre>
          </section>

          <section>
            <pre>
              <code data-trim data-noescape >
                class FatherComponent {
                  constructor(name) {
                    this.name = name;
                  }
                }
                
                class SonComponent extends FatherComponent {
                  constructor(name) {
                    this.getSonName(); // 🔴 this.name還沒被定義
                    super(name);
                  }
                  getSonName() {
                    alert('My name is Eric!');
                    alert(`${this.name} is Boy!`); // 未來某一天想增加的code
                  }
                }
              </code>
            </pre>
          </section>
        </section>

        <section>
          <p>如果不帶入 props?</p>
          <p style="text-align: start; font-size: 30px;">
            ● 帶入 props 到 super 是必須的？因為底層的 React.Component 建構子才能初始化 this.props?
          </p>
          <pre class="fragment">
            <code data-trim data-noescape>
              <script type="text/template">
                class Score extends Component {
                  render() {
                    return ( <div>{`獲得蘋果： ${this.props.score}`}</div>);
                  }
                }
              </script>
            </code>
          </pre>
          <p class="fragment" style="text-align: start; font-size: 30px;">● 結果，竟然可以讀取到 this.props!!!</p>
          <p class="fragment" style="text-align: start; font-size: 30px;">
            ● 事實上在 React 呼叫你的建構子後，它也會馬上配置 props 到實例中
          </p>
          <pre class="fragment">
            <code data-trim data-noescape >
              const instance = new MyComponent(props);
              instance.props = props;
            </code>
          </pre>
          <p class="fragment" style="text-align: start; font-size: 30px;">● React 刻意設計的~</p>
        </section>

        <section>
          <p>只寫 super() 而不用寫 super(props)?</p>
          <p class="fragment" style="text-align: start; font-size: 30px; font-weight: bold; color: #70d3e0;">● NO!!</p>
          <p class="fragment" style="text-align: start; font-size: 30px;">
            ● React 的確會在你的建構子執行之後自行配置 this.props
          </p>
          <p class="fragment" style="text-align: start; font-size: 30px;">
            ● 但是 this.props 從呼叫 super 到建構子的結尾仍然會是 undefined
          </p>
          <pre class="fragment">
            <code data-trim data-noescape >
              constructor(props) {
                super();
                console.log(this.props); // 🔴 undefined
              }
            </code>
          </pre>
        </section> -->

        <section>
          <h3>Side Project</h3>
          <p style="text-align: start; font-weight: bold;">● nodejs: v18</p>
          <p style="text-align: start; font-weight: bold;">● React: v18.2 (Functional Component)</p>
          <p style="text-align: start; font-weight: bold;">● 專案建置方式: CRA</p>
          <p style="text-align: start; font-weight: bold;">● 玩法：<span style="color: #a8e6ee;">透過上下左右控制貪吃蛇，吃到蘋果會越跑越快，撞到自己身體就輸了，按下空白鍵可以暫停。</span></p>
        </section>

        <section>
          <p>任務拆解</p>
          <p style="text-align: start;">● 出現在地圖上的蛇</p>
          <pre class="fragment fade-in-then-out" style="position: absolute;">
            <code data-trim data-noescape>
              <script type="text/template">
                const [snake, setSnake] = useState(defaultSnake);
                useEffect(() => {
                  const gameIntervalId = setInterval(() => {
                    setSnake((prevSnake) => {
                      // ...計算蛇怎麼移動
                      return {
                        // ...蛇的新位置
                      };
                    });
                  }, snake.speed);
                  return () => {
                    clearInterval(gameIntervalId);
                  };
                }, [snake.speed, isStart, isPause]);
              </script>
            </code>
          </pre>
          <pre class="fragment fade-in-then-out" style="position: absolute;">
            <code data-trim data-noescape>
              <script type="text/template">
                const isSnake = [head, ...body].find(
                  (item) => item.x === column && item.y === row
                );
                background: isSnake ? "#ffffff" : "#161616"
              </script>
            </code>
          </pre>
          <p class="fragment" style="text-align: start;">● 隨機出現的蘋果</p>
          <pre class="fragment fade-in-then-out" style="position: absolute;">
            <code data-trim data-noescape>
              <script type="text/template">
                export const createFood = () => ({
                  x: Math.floor(Math.random() * GRID_SIZE),
                  y: Math.floor(Math.random() * GRID_SIZE),
                });

                const [food, setFood] = useState(() => createFood());
                setFood(createFood());
              </script>
            </code>
          </pre>
          <p class="fragment" style="text-align: start;">● 吃到蘋果會長大的蛇，並且越跑越快</p>
          <pre class="fragment fade-in-then-out" style="position: absolute;">
            <code data-trim data-noescape>
              <script type="text/template">
                const [snake, setSnake] = useState(defaultSnake);
                setSnake((snake) => ({
                  ...snake,
                  curLength: snake.curLength + 1,
                  speed: Math.max(snake.speed - DELTA_SPEED, LIMITED_SPEED),
                }));
              </script>
            </code>
          </pre>
          <p class="fragment" style="text-align: start;">● 計算分數，存到 localstorage</p>
          <pre class="fragment fade-in-then-out" style="position: absolute;">
            <code data-trim data-noescape>
              <script type="text/template">
                const [score, setScore] = useState(0);
                useEffect(() => {
                  if (isGameOver) {
                    setIsStart(false);
                    if (score > maxScore) {
                      localStorage.setItem("maxScore", score);
                    }
                  }
                }, [isGameOver]);
              </script>
            </code>
          </pre>
        </section>

        <section>
          <a href="https://mordern123.github.io/snake/">Go to the Snake Game</a>
        </section>

      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });
    </script>
  </body>
</html>
